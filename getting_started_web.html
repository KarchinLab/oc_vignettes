<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Getting Started (Website/GUI)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="getting_started_web_files/libs/clipboard/clipboard.min.js"></script>
<script src="getting_started_web_files/libs/quarto-html/quarto.js"></script>
<script src="getting_started_web_files/libs/quarto-html/popper.min.js"></script>
<script src="getting_started_web_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="getting_started_web_files/libs/quarto-html/anchor.min.js"></script>
<link href="getting_started_web_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="getting_started_web_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="getting_started_web_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="getting_started_web_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="getting_started_web_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="getting_started_web_files/libs/quarto-diagram/mermaid.min.js"></script>
<script src="getting_started_web_files/libs/quarto-diagram/mermaid-init.js"></script>
<link href="getting_started_web_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#understanding-the-context-for-our-task" id="toc-understanding-the-context-for-our-task" class="nav-link" data-scroll-target="#understanding-the-context-for-our-task">Understanding the Context for our Task</a></li>
  <li><a href="#creating-an-opencravat-account-web" id="toc-creating-an-opencravat-account-web" class="nav-link" data-scroll-target="#creating-an-opencravat-account-web">Creating an OpenCRAVAT Account (Web)</a></li>
  <li><a href="#installing-opencravat-via-installer-local" id="toc-installing-opencravat-via-installer-local" class="nav-link" data-scroll-target="#installing-opencravat-via-installer-local">Installing OpenCRAVAT via Installer (Local)</a>
  <ul class="collapse">
  <li><a href="#windows" id="toc-windows" class="nav-link" data-scroll-target="#windows">Windows</a></li>
  <li><a href="#macos" id="toc-macos" class="nav-link" data-scroll-target="#macos">MacOS</a></li>
  <li><a href="#linux" id="toc-linux" class="nav-link" data-scroll-target="#linux">Linux</a></li>
  <li><a href="#start-opencravat-gui" id="toc-start-opencravat-gui" class="nav-link" data-scroll-target="#start-opencravat-gui">Start OpenCRAVAT GUI</a></li>
  </ul></li>
  <li><a href="#browse-annotators-web" id="toc-browse-annotators-web" class="nav-link" data-scroll-target="#browse-annotators-web">Browse Annotators (Web)</a></li>
  <li><a href="#convert-to-input-file-format" id="toc-convert-to-input-file-format" class="nav-link" data-scroll-target="#convert-to-input-file-format">Convert to Input File Format</a></li>
  <li><a href="#submit-annotation-job" id="toc-submit-annotation-job" class="nav-link" data-scroll-target="#submit-annotation-job">Submit Annotation Job</a></li>
  <li><a href="#filter-results" id="toc-filter-results" class="nav-link" data-scroll-target="#filter-results">Filter Results</a></li>
  <li><a href="#visualize-filtered-results" id="toc-visualize-filtered-results" class="nav-link" data-scroll-target="#visualize-filtered-results">Visualize Filtered Results</a></li>
  <li><a href="#what-you-learned" id="toc-what-you-learned" class="nav-link" data-scroll-target="#what-you-learned">What you learned</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="getting_started_web.rst"><i class="bi bi-file"></i>reST</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Getting Started (Website/GUI)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<p>By the end of this tutorial, you should be able to:</p>
<ul>
<li><strong>Create</strong> as user account on the OpenCRAVAT site</li>
<li><strong>Install</strong> OpenCravat locally using an installer</li>
<li><strong>Search</strong> for available annotators on the open cravat site</li>
<li><strong>Upload</strong> and <strong>annotate</strong> variant files on the site</li>
<li><strong>Filter</strong> annotated results for visualization</li>
<li><strong>Visualize</strong> and <strong>Summarize</strong> Results in OpenCRAVAT</li>
<li><strong>Export</strong> and <strong>Share</strong> annotation results with others</li>
</ul>
</section>
<section id="understanding-the-context-for-our-task" class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-context-for-our-task">Understanding the Context for our Task</h2>
<p>Let’s start with a research question we’re interested in. We have a list of variants that we’ve found in our patient population of interest. Our research question is:</p>
<blockquote class="blockquote">
<p>Given this list of variants, which are potentially pathogenic?</p>
</blockquote>
<p>This research question will take us through understanding how the OpenCRAVAT annotator works.</p>
<p>To start, you can either install OpenCRAVAT locally, or create an account on the website. Then you’ll follow the paths below. Here’s a comparison of both approaches:</p>
<table class="table">
<thead>
<tr class="header">
<th>Feature</th>
<th>OpenCRAVAT Web</th>
<th>OpenCRAVAT Local</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create Account</td>
<td>Yes on Web</td>
<td>Not required</td>
</tr>
<tr class="even">
<td>Install Annotators</td>
<td>Pre-installed</td>
<td>Install in Store</td>
</tr>
<tr class="odd">
<td>Scriptable</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="even">
<td><strong>Protected Data</strong></td>
<td>No</td>
<td>Yes, with appropriate protections</td>
</tr>
</tbody>
</table>
<p>Most importantly, <strong>if you are using protected data, you should go the local installer route</strong>, with appropriate protections on your machine.</p>
<p>You can click on each box in the diagram below to go to the relevant section. We’ll have an appropriate callout to highlight the differences where the two approaches differ.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
    L[Creating an OpenCRAVAT Account] --&gt; A
    click L "#creating-an-opencravat-account-web"
    M[Installing OpenCRAVAT via Installer] --&gt; N
    N["Install Annotators"] --&gt; B
    click M "#installing-opencravat-via-installer-local"
    click N "#install-annotators-local"
    A[Browse and select annotators] --&gt; B[Convert to Input File Format]
    click A "#browse-annotators-web"
    click B "#convert-to-input-file-format"
    B --&gt;|Variant File Input| C[Submit Annotation Job]
    click C "#submit-annotation-job"
    C --&gt;|Results|D["Filter Results"] --&gt; E[Visualize Results]
    click D "#filter-results"
    click E "#visualize-results"
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="creating-an-opencravat-account-web" class="level2">
<h2 class="anchored" data-anchor-id="creating-an-opencravat-account-web">Creating an OpenCRAVAT Account (Web)</h2>
<p>Let’s start out by creating an account on <a href="https://run.opencravat.org" class="uri">https://run.opencravat.org</a>. If your organization is running OpenCRAVAT locally, you will need to find out the appropriate URL for the instance of OpenCravat.</p>
<p>Here’s the initial screen we’ll see when we go to <a href="https://run.opencravat.org" class="uri">https://run.opencravat.org</a>. You’ll click on the <strong>Sign Up</strong> Button to create an account.</p>
<p><img src="images/oc-first.png" class="img-fluid"> Enter your details in the form, and sign up. You’ll automatically be signed into the interface and will be ready to go for the next step.</p>
<p><img src="images/oc-signup.png" class="img-fluid"></p>
<p>Now you’re ready to browse the <a href="#browse-annotators-web">OpenCRAVAT Store</a> to look for annotators.</p>
</section>
<section id="installing-opencravat-via-installer-local" class="level2">
<h2 class="anchored" data-anchor-id="installing-opencravat-via-installer-local">Installing OpenCRAVAT via Installer (Local)</h2>
<p>You can install OpenCRAVAT via the installers below:</p>
<section id="windows" class="level3">
<h3 class="anchored" data-anchor-id="windows">Windows</h3>
<p><a href="https://karchinlab.org/opencravat/installers/OpenCRAVAT-2.4.1.exe">Windows installer</a></p>
<p>Windows Defender may indicate that it prevented an unknown application from running. If so, click the ‘More’ link on the message and then select ‘Run Anyway’. An “OpenCRAVAT” icon will be created on the Desktop and the Start Menu.</p>
</section>
<section id="macos" class="level3">
<h3 class="anchored" data-anchor-id="macos">MacOS</h3>
<iframe src="https://share.descript.com/embed/xflvSqCDFQL" width="640" height="360" frameborder="0" allowfullscreen="">
</iframe>
<p><a href="https://karchinlab.org/opencravat/installers/OpenCRAVAT.2.2.9.pkg">Mac OS installer</a></p>
<p>Right-click the downloaded file and select “Open”. Your Mac may ask you to confirm stating that the file was not downloaded from the App Store. Click “Open” button. Just double-clicking the installer may not enable this “Open” option.</p>
</section>
<section id="linux" class="level3">
<h3 class="anchored" data-anchor-id="linux">Linux</h3>
<p>Linux Users should refer to the Command Line Quickstart to install via <code>pip</code>/<code>pip3</code>.</p>
</section>
<section id="start-opencravat-gui" class="level3">
<h3 class="anchored" data-anchor-id="start-opencravat-gui">Start OpenCRAVAT GUI</h3>
<iframe src="https://share.descript.com/embed/NRF4BVXMbcD" width="640" height="360" frameborder="0" allowfullscreen="">
</iframe>
<p>Now that OpenCRAVAT is installed, we can run the GUI. In a command prompt (PowerShell or Terminal), you can start the OpenCRAVAT GUI by typing:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">oc</span> gui</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In MacOS, you can also launch OpenCRAVAT via clicking on the application in your Applications folder. In Windows, you can click the desktop Icon to launch it.</p>
<p>You should see the following in your terminal:</p>
<pre><code>tedladeras@teds-MacBook-Pro ~ % oc gui

   ____                   __________  ___ _    _____  ______
  / __ \____  ___  ____  / ____/ __ \/   | |  / /   |/_  __/
 / / / / __ \/ _ \/ __ \/ /   / /_/ / /| | | / / /| | / /   
/ /_/ / /_/ /  __/ / / / /___/ _, _/ ___ | |/ / ___ |/ /    
\____/ .___/\___/_/ /_/\____/_/ |_/_/  |_|___/_/  |_/_/     
    /_/                                                     

OpenCRAVAT is served at localhost:8080
(To quit: Press Ctrl-C or Ctrl-Break if run on a Terminal or Windows, or click "Cancel" and then "Quit" if run through OpenCRAVAT app on Mac OS)
(Getting result of [example_input.sqlite]:[variant]...)
Done getting result of [example_input.sqlite][variant] in 0.029s
(Getting result of [example_input.sqlite]:[gene]...)
Done getting result of [example_input.sqlite][gene] in 0.021s</code></pre>
<p>A window should open in your web browser. If not, enter <a href="https://localhost:8080" class="uri">https://localhost:8080</a> to view the GUI.</p>
<p>Now you can <a href="#browse-annotators">browse and install the available annotators</a></p>
</section>
</section>
<section id="browse-annotators-web" class="level2">
<h2 class="anchored" data-anchor-id="browse-annotators-web">Browse Annotators (Web)</h2>
<iframe src="https://share.descript.com/embed/Tk01UzdKZIG" width="640" height="360" frameborder="0" allowfullscreen="">
</iframe>
<p>If we click on the <strong>STORE</strong> tab in the top left of the interface, we’ll see the variety of annotators that are available to us.</p>
<p><img src="images/oc-browse-annotators-1.png" class="img-fluid"></p>
<p>Let’s browse the clinically relevant annotators by clicking on the <code>Clinically Relevant</code> checkbox:</p>
<p><img src="images/oc-browse-annotators-2.png" class="img-fluid"></p>
<p>As we browse the annotators available to us, we notice two specific annotators we want to work with. Let’s use two clinically relevant annotators: <a href="https://civicdb.org/welcome">CiViC</a> (Clinical Interpretations of Variants in Cancer) and <a href="https://www.ncbi.nlm.nih.gov/clinvar/">ClinVar</a>, a public archive of interpretations of clinically relevant patients.</p>
<p>To get more information, click on the CiViC box:</p>
<p><img src="images/oc-browse-annotators-3.png" class="img-fluid"> And you’ll see more information about the annotator:</p>
<p><img src="images/oc-browse-annotators-4-civic.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
For Local Users
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have installed OpenCRAVAT locally, you will have the option to install annotators on the store page. You can do this by clicking “Install” for the annotator of interest. Please note that some of the annotators use a lot of disk space, so keep that in mind before installing locally.</p>
<p><img src="images/oc-install-annotators.png" class="img-fluid"></p>
<p>You already have CiViC and ClinVar installed by default, so you don’t need to install them locally.</p>
</div>
</div>
<p>Now we know which annotators we want to use, let’s <a href="#convert-to-input-file-format">review input file formats</a>.</p>
</section>
<section id="convert-to-input-file-format" class="level2">
<h2 class="anchored" data-anchor-id="convert-to-input-file-format">Convert to Input File Format</h2>
<p>OpenCRAVAT supports VCF files for input, but also has a simplified format to be used for input files.</p>
<p>We’ll use an example and annotate it. Let’s take a look at the first few lines of this file to understand the input format. This example is available by clicking the “TSV” button next to “example”:</p>
<p><img src="images/oc-annotate-example.png" class="img-fluid"></p>
<pre><code>chr1    69091   +   A   C   s0
chr1    69091   +   ATG C   s0
chr6    31039077    +   C   G   s0
chr1    27612918    +   G   a   s1
chr1    27612918    +   G   A   s0
chrM    235 +   A   G   clinvar
chrM    3308    +   T   C   omim
chr8    54626835    +   A   T   s0
chr4    1804372 +   A   G   s1
chr4    1804372 +   AT  GC  s1
chr4    1804372 +   A   T   s1
chr1    369551  +   G   C   s0
chr10   121593817   -   A   T   s0
chr10   2987654 +   T   A   s1</code></pre>
<p>This format contains the following columns: <code>chromosome</code>, <code>position</code>, <code>strand</code>, <code>reference</code>, and <code>allele</code>.</p>
<p>Much more information about the supported file formats are here: <a href="https://open-cravat.readthedocs.io/en/latest/File-Formats.html">File Formats</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
For Local Users
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can download the example to annotate <a href="">here</a>.</p>
</div>
</div>
<p>Now we have our input file, we can move on to <a href="#submit-annotation-job">submitting our job</a>.</p>
</section>
<section id="submit-annotation-job" class="level2">
<h2 class="anchored" data-anchor-id="submit-annotation-job">Submit Annotation Job</h2>
<iframe src="https://share.descript.com/embed/raakHVZK4EK" width="640" height="360" frameborder="0" allowfullscreen="">
</iframe>
<p>Before we move on, let’s take a look at the overall workflow for annotating in the GUI. We’ll start out by 1) submitting our input file, 2) selecting the annotators, and then 3) submitting our job.</p>
<p><img src="images/oc-gui-workflow.png" class="img-fluid"></p>
<ol type="1">
<li>Let’s start the workflow. We can now add our variant file to annotate and submit a job. Select the <code>JOBS</code> tab in the top left corner of the interface.</li>
</ol>
<p><img src="images/oc-jobs.png" class="img-fluid"></p>
<p>Our example file corresponds to the <code>hg19/GRCH37</code> build, so make sure that this genome is selected under the Genome field</p>
<p><img src="images/oc-jobs-genome.png" class="img-fluid"></p>
<p>Now we’ll add our input file. Add your variant file here by clicking the “ADD INPUT FILES” button. If you are using the built in example, you won’t need to add it.</p>
<p><img src="images/oc-jobs-input.png" class="img-fluid"></p>
<ol start="2" type="1">
<li>Now we can select our annotators. Under annotations in the box below “Variants”, click on the “Clinical Relevance” category.</li>
</ol>
<p><img src="images/oc-jobs-category.png" class="img-fluid"></p>
<p>Select the <code>CiViC</code> (not <code>CiViC Gene</code>) and <code>ClinVar</code> annotation checkboxes.</p>
<p><img src="images/oc-jobs-annotators.png" class="img-fluid"></p>
<ol start="3" type="1">
<li>Now we’re ready to annotate. Click the <strong>ANNOTATE</strong> button at the bottom of the webpage. Now you’ve submitted your job.</li>
</ol>
<p><img src="images/oc-jobs-submit.png" class="img-fluid"></p>
<p>Depending on the size of your Variant file, it may take time for your job to finish. You’ll see the job running in the table on the right of the interface.</p>
<p>When our job is finished, we can <a href="#filter-results">view our results and filter them</a>.</p>
</section>
<section id="filter-results" class="level2">
<h2 class="anchored" data-anchor-id="filter-results">Filter Results</h2>
<iframe src="https://share.descript.com/embed/rHJGmx6i9e5" width="640" height="360" frameborder="0" allowfullscreen="">
</iframe>
<blockquote class="blockquote">
<p>We are interested in those variants that have ClinVar annotation. How do we find those?</p>
</blockquote>
<p>Now we take a look at our results in the web interface. Under the list of jobs, we can see our job. Let’s select <code>Open Result Viewer</code> under the <strong>Status</strong> tab:</p>
<p><img src="images/oc-filter-job.png" class="img-fluid"> Keep in mind that the web interface is limited to visualizing 100,000 variants, so if you have a larger result file, you’ll need to filter the results down. So let’s take a look at how to filter our variants down.</p>
<p>We can filter variants by selecting the Filter tab in the Results viewer:</p>
<p><img src="images/oc-filter-select-tab.png" class="img-fluid"></p>
<p>Under “Variant Properties” we can limit our list of variants to those that have ClinVar annotations. Let’s build a filter using the Query Builder, which will allow us to impose multiple criteria as a filter.</p>
<p><img src="images/oc-filter-query-builder.png" class="img-fluid"></p>
<p>We’ll add a rule (a logical condition) to our filter using the <code>+</code> button:</p>
<p><img src="images/oc-filter-add-rule.png" class="img-fluid"></p>
<p>Now we’ll add a rule and select those that have <code>ClinVar</code> annotations. To do this, we’ll first select a) <code>ClinVar</code> on the left, the b) <code>Clinical Significance</code> column, and c) <code>has data</code>:</p>
<p><img src="images/oc-filter-create.png" class="img-fluid"> Now we can apply this rule we’ve built by clicking on the <strong>Apply Filter</strong> button on the bottom right of the Query Builder:</p>
<p><img src="images/oc-filter-apply.png" class="img-fluid"> How many variants are left after the filtering?</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Calculating the Effect of Filters
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have multiple filters, you can actually precalculate the numbers of variants after filtering by using the icon below.</p>
<p><img src="images/oc-filter-precalculate.png" class="img-fluid"></p>
<p>This can be helpful to check if your filters are too strict (that is, they won’t return anything).</p>
<p>Just note that the filter is not actually applied to the data until you hit the <strong>Apply Filter</strong> Button.</p>
</div>
</div>
</section>
<section id="visualize-filtered-results" class="level2">
<h2 class="anchored" data-anchor-id="visualize-filtered-results">Visualize Filtered Results</h2>
<iframe src="https://share.descript.com/embed/13Ww6z6RV6j" width="640" height="360" frameborder="0" allowfullscreen="">
</iframe>
<p>Now that we’ve filtered, let’s go back to the Summary Tab:</p>
<p><img src="images/oc-visualize-tab.png" class="img-fluid"> In the Summary tab, we can see information about the annotated variants, such as from the sequence ontology. We can get the counts within a sequence ontology category by mousing over that category in our plot:</p>
<p><img src="images/oc-visualize-seq-ontology.png" class="img-fluid"> These visualizations can be moved around and pinned. Using the camera icon, you can also save these visualizations.</p>
<p>Let’s move over to the <strong>Variant</strong> tab and look for pathogenic variants. First, we’ll click over to the <strong>Variant</strong> tab:</p>
<p><img src="images/oc-visualize-variant.png" class="img-fluid"> Scrolling to the right, we can see there is a column for the ClinVar annotations. Notice the <strong>+</strong> on the top right. We’ll click that to expand the ClinVar annotations:</p>
<p><img src="images/oc-visualize-clinvar.png" class="img-fluid"> In the <strong>Clinical Significance</strong> column, we can see that we can filter. Let’s select those variants that have <strong>pathogenic</strong> significance. Clicking into the search box underneath this column, we can select <strong>pathogenic</strong>:</p>
<p><img src="images/oc-visualize-pathogenic.png" class="img-fluid"></p>
<p>How many variants are pathogenic?</p>
<p>The last thing we might want to do is to export our results. We can use the export button at the bottom of the table:</p>
<p><img src="images/oc-export-table.png" class="img-fluid"></p>
<p>When you click that, you will have the option to export the variant level results as a tab seperated value (TSV) file. Note that this result table will have filters applied to it as well.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Multiple Rules
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that we could have limited our search to pathogenic variants by adding another filter rule like we did above in the filtering step. We’re showing this way in case you didn’t know the available categories within the <code>Clinical Significance</code> column.</p>
</div>
</div>
</section>
<section id="what-you-learned" class="level2">
<h2 class="anchored" data-anchor-id="what-you-learned">What you learned</h2>
<p>You learned a lot in this section. You learned how to:</p>
<ul>
<li>Create a User Account</li>
<li>Browse OpenCRAVAT’s store to look for annotators</li>
<li>Submit a job to the Open-Cravat server</li>
<li>Filter results in the Results Viewer</li>
<li>Visualize results in the Results Viewer</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>